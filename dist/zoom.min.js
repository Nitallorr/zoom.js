!function(){"use strict";var n,i,r=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,s),e.l=!0,e.exports}i={},s.m=n=[function(t,e,n){n.d(e,"a",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return r}),n.d(e,"e",function(){return a}),n.d(e,"b",function(){return s});var i=function(){return document.documentElement.clientWidth},o=function(){return document.documentElement.clientHeight},r=function(t){var e=t.getBoundingClientRect(),n=document.documentElement,i=window;return{top:e.top+i.pageYOffset-n.clientTop,left:e.left+i.pageXOffset-n.clientLeft}},a=function(t,n,i){t.addEventListener(n,function t(e){e.target.removeEventListener(n,t),i()})},s=function(t){var e=t.style.backgroundImage.replace(/url\((['"])?(.*?)\1\)/gi,"$2").split(",")[0],n=new Image;return n.src=e,{naturalWidth:n.naturalWidth,naturalHeight:n.naturalHeight}}},function(t,e,n){var i=n(2),o=n(0);n.d(e,"a",function(){return g});var r=null,a=-1,s=-1,c=function(t){document.body.classList.contains("zoom-overlay-open")||(t.metaKey||t.ctrlKey?window.open(t.target.getAttribute("data-original")||t.target.src,"_blank"):t.target.width>=n.i(o.a)()-80||(u(),(r=new i.a(t.target,80)).zoom(),l()))},u=function(){null!=r&&(r.close(),d(),r=null)},l=function(){document.addEventListener("scroll",m),document.addEventListener("keyup",f),document.addEventListener("touchstart",h),document.addEventListener("click",p,!0)},d=function(){document.removeEventListener("scroll",m),document.removeEventListener("keyup",f),document.removeEventListener("touchstart",h),document.removeEventListener("click",p,!0)},m=function(){-1==a&&(a=window.pageYOffset),40<=Math.abs(a-window.pageYOffset)&&u()},f=function(t){27==t.keyCode&&u()},h=function(t){var e=t.touches[0];null!=e&&(s=e.pageY,t.target.addEventListener("touchmove",v))},v=function t(e){var n=e.touches[0];null!=n&&10<Math.abs(n.pageY-s)&&(u(),e.target.removeEventListener("touchmove",t))},p=function(){u()},g=Object.create(null);g.setup=function(t){t.addEventListener("click",c)},window.zoom=g},function(t,e,s){function i(t,e){a(this,i),this.w=t,this.h=e}var c=s(0),n=(r(o,[{key:"forceRepaint",value:function(){this.img.offsetWidth}},{key:"zoom",value:function(){var t=s.i(c.b)(this.img),e=new i(t.naturalWidth,t.naturalHeight);this.wrap=document.createElement("div"),this.wrap.classList.add("zoom-img-wrap"),this.img.parentNode.insertBefore(this.wrap,this.img),this.wrap.appendChild(this.img),this.img.classList.add("zoom-img"),this.img.setAttribute("data-action","zoom-out"),this.overlay=document.createElement("div"),this.overlay.classList.add("zoom-overlay"),document.body.appendChild(this.overlay),this.overlay.addEventListener("click",function(t){t.stopImmediatePropagation()}),this.forceRepaint();var n=this.calculateScale(e);this.forceRepaint(),this.animate(n),document.body.classList.add("zoom-overlay-open")}},{key:"calculateScale",value:function(t){var e=t.w/this.clientRect.width,n=s.i(c.a)()-this.offset,i=s.i(c.c)()-this.offset,o=t.w/t.h,r=n/i;return t.w<n&&t.h<i?e:o<r?i/t.h*e:n/t.w*e}},{key:"animate",value:function(t){var e=s.i(c.d)(this.img),n=window.pageYOffset,i=s.i(c.a)()/2,o=n+s.i(c.c)()/2,r="scale("+t+")",a="translate3d("+(i-(e.left+this.clientRect.width/2))+"px, "+(o-(e.top+this.clientRect.height/2))+"px, 0px)";this.img.style.transform=r,this.wrap.style.transform=a}},{key:"dispose",value:function(){null!=this.wrap&&null!=this.wrap.parentNode&&(this.img.classList.remove("zoom-img"),this.img.setAttribute("data-action","zoom"),this.wrap.parentNode.insertBefore(this.img,this.wrap),this.wrap.parentNode.removeChild(this.wrap),document.body.removeChild(this.overlay))}},{key:"close",value:function(){var t=this;document.body.classList.add("zoom-overlay-transitioning"),this.img.style.transform=this.preservedTransform,0===this.img.style.length&&this.img.removeAttribute("style"),this.wrap.style.transform="none",s.i(c.e)(this.img,"transitionend",function(){document.body.classList.remove("zoom-overlay-transitioning"),t.dispose(),document.body.classList.remove("zoom-overlay-open")})}}]),o);function o(t,e){a(this,o),this.img=t,this.clientRect=t.getBoundingClientRect(),this.preservedTransform=t.style.transform,this.wrap=null,this.overlay=null,this.offset=e}e.a=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(1);document.addEventListener("DOMContentLoaded",function(){for(var t=document.querySelectorAll("img[data-action='zoom']"),e=0;e<t.length;e++)i.a.setup(t[e])})}],s.c=i,s.i=function(t){return t},s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=3)}();